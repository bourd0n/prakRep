Цербер

Time limit:	2 s
Memory limit:	128 M
Реализовать класс AccessController. Объект этого класса должен хранить ссылку на другой объект, для которого заданы права доступа, и предоставлять доступ к этому объекту только по тем запросам, которые удовлетворяют его правам доступа. Объект AccessController должен поддерживать следующие операции:

set() - задать хранимый объект и права доступа к нему;
get() - получить объект, передавая идентификатор доступа;
doRightsSatisfy() - проверить, можно ли получить доступ к хранимому объекту по переданному идентификатору доступа.
Права доступа задаются двумя 32-битными целыми числами pos и neg. Идентификатор id удовлетворяет правам доступа pos и neg, если id & pos == pos && id | neg == neg. Метод get() должен выдавать хранимый объект, если переданный идентификатор удовлетворяет текущим хранимым правам доступа, и генерировать исключение AccessViolationException. Это исключение должно наследовать java.lang.Exception, но не наследовать java.lang.RuntimeException.

Класс AccessController должен быть быть универсальным (generic), т.е. поддерживать хранение объектов различных типов без использования оператора приведения типа.

С использованием реализованного класса напишите программу, которая считывает со стандартного ввода непустую последовательность команд и выполняет ее. Первая команда представляет собой строку int, long или string. Остальные строки имеют один из следующих видов:

set V P N, где V - это значение объекта, записываемое в AccessController, P и N - права доступа pos и neg соответственно;
print I, где I - это идентификатор доступа.
Действие команды print должно быть реализовано в методе, который получает в качестве аргументов объект AccessController и идентификатор доступа. Команда print должна распечатать значение объекта, хранящегося в AccessController, либо слово invalid, если объект недоступен. Команда set должна устанавливать в AccessController объект со значением и правами доступа, которые получает эта команда. Можно считать, что команда set получает значение правильного типа (указанного первой командой). До первого вызова команды print идёт хотя бы одна команда set.
В своем решении вы не должны использовать операторы приведения типов и instanceof, а также generic-типы без указания параметров типа.

Обратите внимание, в ejudge посылка может содержать только один файл. Поэтому вам нужно будет поместить все классы в один файл, причем метод main() должен быть определен в публичном классе и этот класс должен идти первым.

Examples

Input	Output
int
set 10 3 3
print 3
print 4
print 6
set 5 4 6
10
invalid
invalid
string
set HelloWorld 3 7
print 3
print 7
HelloWorld
HelloWorld

